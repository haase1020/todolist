{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport LRU from '../../utils/lrucache/lrucache';\n\nvar ImpressionObserver = /*#__PURE__*/function () {\n  function ImpressionObserver(size, hasher) {\n    _classCallCheck(this, ImpressionObserver);\n\n    this.cache = new LRU(size);\n    this.hasher = hasher;\n  }\n\n  _createClass(ImpressionObserver, [{\n    key: \"testAndSet\",\n    value: function testAndSet(impression) {\n      if (!impression) return null;\n      var hash = this.hasher(impression);\n      var previous = this.cache.get(hash);\n      this.cache.set(hash, impression.time);\n      return previous;\n    }\n  }]);\n\n  return ImpressionObserver;\n}();\n\nexport default ImpressionObserver;","map":{"version":3,"sources":["/home/mandi/mandi/todolist/node_modules/@splitsoftware/splitio-react/es/splitio/impressions/observer/observer.js"],"names":["_classCallCheck","_createClass","LRU","ImpressionObserver","size","hasher","cache","key","value","testAndSet","impression","hash","previous","get","set","time"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,GAAP,MAAgB,+BAAhB;;AAEA,IAAIC,kBAAkB,GAAG,aAAa,YAAY;AAChD,WAASA,kBAAT,CAA4BC,IAA5B,EAAkCC,MAAlC,EAA0C;AACxCL,IAAAA,eAAe,CAAC,IAAD,EAAOG,kBAAP,CAAf;;AAEA,SAAKG,KAAL,GAAa,IAAIJ,GAAJ,CAAQE,IAAR,CAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACD;;AAEDJ,EAAAA,YAAY,CAACE,kBAAD,EAAqB,CAAC;AAChCI,IAAAA,GAAG,EAAE,YAD2B;AAEhCC,IAAAA,KAAK,EAAE,SAASC,UAAT,CAAoBC,UAApB,EAAgC;AACrC,UAAI,CAACA,UAAL,EAAiB,OAAO,IAAP;AACjB,UAAIC,IAAI,GAAG,KAAKN,MAAL,CAAYK,UAAZ,CAAX;AACA,UAAIE,QAAQ,GAAG,KAAKN,KAAL,CAAWO,GAAX,CAAeF,IAAf,CAAf;AACA,WAAKL,KAAL,CAAWQ,GAAX,CAAeH,IAAf,EAAqBD,UAAU,CAACK,IAAhC;AACA,aAAOH,QAAP;AACD;AAR+B,GAAD,CAArB,CAAZ;;AAWA,SAAOT,kBAAP;AACD,CApBqC,EAAtC;;AAsBA,eAAeA,kBAAf","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport LRU from '../../utils/lrucache/lrucache';\n\nvar ImpressionObserver = /*#__PURE__*/function () {\n  function ImpressionObserver(size, hasher) {\n    _classCallCheck(this, ImpressionObserver);\n\n    this.cache = new LRU(size);\n    this.hasher = hasher;\n  }\n\n  _createClass(ImpressionObserver, [{\n    key: \"testAndSet\",\n    value: function testAndSet(impression) {\n      if (!impression) return null;\n      var hash = this.hasher(impression);\n      var previous = this.cache.get(hash);\n      this.cache.set(hash, impression.time);\n      return previous;\n    }\n  }]);\n\n  return ImpressionObserver;\n}();\n\nexport default ImpressionObserver;"]},"metadata":{},"sourceType":"module"}